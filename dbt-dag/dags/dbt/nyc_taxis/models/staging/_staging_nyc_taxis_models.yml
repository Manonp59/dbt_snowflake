version: 2

models:
  - name: staging_nyc_taxis
    description: "Staging table for NYC taxis data"
    columns:  
      - name: airport_fee
        description: "$5.00 airport fee for trips to/from JFK and LaGuardia."
        data_type: FLOAT

      - name: congestion_surcharge
        description: "$2.50 congestion surcharge for Manhattan congestion zone trips."
        data_type: FLOAT

      - name: pu_location_id
        description: "Pick-up location ID."
        data_type: INT
        tests:
          - not_null

      - name: do_location_id
        description: "Drop-off location ID."
        data_type: INT
        tests:
          - not_null

      - name: extra
        description: "Miscellaneous extras and surcharges (e.g., $0.50 MTA tax)."
        data_type: FLOAT
        tests:
          - not_null

      - name: fare_amount
        description: "Time-and-distance fare calculated by the meter."
        data_type: FLOAT
        tests:
          - not_null

      - name: improvement_surcharge
        description: "Improvement surcharge assessed on each trip."
        data_type: FLOAT
        tests:
          - not_null

      - name: mta_tax
        description: "$0.50 MTA tax automatically triggered."
        data_type: FLOAT
        tests:
          - not_null

      - name: passenger_count
        description: "Number of passengers in the vehicle."
        data_type: INT

      - name: payment_type
        description: "Numeric code for payment type."
        data_type: INT
        tests:
          - not_null

      - name: ratecode_id
        description: "Final rate code in effect at the end of the trip."
        data_type: INT

      - name: store_and_fwd_flag
        description: "Indicates whether the trip record was held in vehicle memory before sending."
        data_type: STRING

      - name: tip_amount
        description: "Tip amount automatically populated for credit card tips."
        data_type: FLOAT
        tests:
          - not_null

      - name: tolls_amount
        description: "Total amount of all tolls paid in trip."
        data_type: FLOAT
        tests:
          - not_null

      - name: total_amount
        description: "Total amount charged to passengers (excluding cash tips)."
        data_type: FLOAT
        tests:
          - not_null

      - name: tpep_dropoff_datetime
        description: "Date and time when the meter was disengaged."
        data_type: TIMESTAMP
        tests:
          - not_null

      - name: tpep_pickup_datetime
        description: "Date and time when the meter was engaged."
        data_type: TIMESTAMP
        tests:
          - not_null

      - name: trip_distance
        description: "Elapsed trip distance."
        data_type: FLOAT
        tests:
          - not_null

      - name: vendor_id
        description: "TLC vendor code."
        data_type: INT
        tests:
          - not_null

      - name: cbd_congestion_fee
        description: "Additional congestion fee in Manhattan."
        data_type: FLOAT

      - name: trip_duration
        description: "Duration of the trip in minutes."
        data_type: FLOAT
        tests:
          - not_null

      - name: trip_speed
        description: "Average speed in miles per hour."
        data_type: INT
        tests:
          - not_null

      - name: tip_ratio_pct
        description: "Ratio of tip_amount to fare_amount as a percentage."
        data_type: FLOAT


      